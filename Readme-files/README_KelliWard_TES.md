# TES System Readme

## Libraries
The following libraries must be installed to run the TES files. Some may be installed by default depending on your python installation, but if errors are occuring, ensure all library dependancies are met.

NumPy<br />
https://github.com/numpy/numpy.

thermo 0.1.40<br />
https://github.com/CalebBell/thermo.

matplotlib<br />
https://matplotlib.org/

## Files
The following files are part of the TES system model for our project.

`ThermalEnergyStorageSystem_KelliWard.py`<br  />
Running this file will model the state of the storage tank over a 1 week period. It relies on the files `Solar.csv` and `Reactor.csv` (which are generated by Lucas's code) and  must be in the same folder. Currently, it will display the TES tank graph at 8 hour intervals. To change the display interval, edit the value on line 64 to the desired display interval in minutes. To save .gif file visualizing the TES behavior, uncomment line 89, and lines 98-104. When saving as a .gif, I recommend a smaller interval for plot display, 30-100 minutes. The code calls 'storage.py' to calculate the thermocline behavior and stored energy. Tank dimensions can be changed on line 58. ThermalEnergyStorage.py can be ran as a standalone file if only interested in behavior of the TES, or it will be ran automaticall when running Matt's steam generator code.

`storage.py`<br  />
This file is a supporting class for `ThermalEnergyStorage.py`. It should not be ran directly. It is based on the file of the same name created by the pervious group, and calculates thermocline velocity and location, which it uses to determine stored energy. Modifications to this code I made include setting it up as a class to be called by my other file, and allowing mass flow rate, tank dimensions, and current thermocline location to be passed in, in order for it to be used in the way I needed.

`TESmodel.py`<br  />
This file is based on converted Matlab code from Dr. Bindra. It models the storage and recovery behavior, and exergy efficiency. It also calculates thermal diffusivity for out alumina/molten salt based storage. It should be ran standalone, and takes 30+ minutes to complete. It prints the step it is on, because I wanted to verify that it was perfomring calculations and not just overloading and freezing, but if you do not wish to see this output, comment out lines 58 and 80. After running, it displays the exergy efficiency of the storage system. The hot temperature can be changed on line 134.

`energy.png`<br  />
This is the graph created by `ThermalEnergyStorage.py` showing energy storage over 1 week.

`tank.gif`<br  />
This the animation showing the status of the tank created by `ThermalEnergyStorage.py`

`Reactor.csv` and `Solar.csv`<br  />
These are the files containing time dependant reactor and solar behavior, used by `ThermalEnergyStorage.py` and created by Lucas's reactor model.
